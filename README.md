# Agentic Noir üïµÔ∏è‚Äç‚ôÇÔ∏èüåßÔ∏è

**Agentic Noir** is a collaborative, interactive detective game set in a gritty 1940s film noir universe. Players step into the shoes of a hard-boiled detective to solve the murder of torch singer Iris Bell.

Key Features:

- **Multiplayer Lobby**: Team up with other detectives in real-time.
- **AI-Driven Storytelling**: No pre-written scripts. The story evolves dynamically based on your actions.
- **Atmospheric Immersion**: Experience the rain-soaked streets of Greywater City through rich, procedurally generated narrative.
- **Dynamic Voice Acting**: Characters come to life with distinctive voices generated by Gemini 2.5 Flash TTS.

## How it Works: The Multi-Agent Flow ü§ñ

The game is powered by a pipeline of specialized AI agents that work together to create a cohesive experience:

1.  **The Director (Game Master)** üé¨
    - Analyzes player input (e.g., "Look under the rug", "Ask the bartender about the gun").
    - Manages the **World State**: Tracks inventory, discovered clues, visited locations, and suspect relationships.
    - Decides the _logical_ outcome of an action (Success/Failure, Item Found, Info Revealed).
    - Passes a structured "Narrative Event" to the Narrator.

2.  **The Narrator (Storyteller)** üñäÔ∏è
    - Receives the dry facts from the Director.
    - Transforms them into atmospheric, noir-style prose.
    - Generates dialogue for NPCs (suspects, witnesses) in character.
    - Streams the final scene back to the players.

This separation ensures the game remains logically consistent (Director) while providing a rich, literary experience (Narrator).

## Getting Started

1.  **Install Dependencies**:

    This project uses `uv` for dependency management and `docker` for containerization.

    **Using uv (Recommended for local dev):**

    ```bash
    # Install uv if not installed
    # Windows: powershell -c "irm https://astral.sh/uv/install.ps1 | iex"
    # Unix: curl -LsSf https://astral.sh/uv/install.sh | sh

    uv sync
    ```

    **Using Docker:**

    ```bash
    docker compose up --build
    ```

2.  **Run the Server (Local)**:

    ```bash
    uv run main.py
    ```

    Or directly with uvicorn:

    ```bash
    uv run uvicorn main:app --reload
    ```

3.  **Play**:
    Open `http://localhost:8000` in your browser.
